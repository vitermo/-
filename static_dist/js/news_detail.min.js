function NewsList(){}NewsList.prototype.listenSubmitEvent=function(){var n=$(".submit-btn"),s=$("textarea[name='comment']");n.click(function(){var t=s.val(),e=n.attr("data-news-id");xfzajax.post({url:"/news/comment/",data:{content:t,news_id:e},success:function(t){if(console.log(t),200===t.code){var e=t.data,n=template("comment-item",{comment:e});$(".comment-list").prepend(n),window.messageBox.showSuccess("评论发表成功"),s.val("")}else window.messageBox.showError(t.message)}})})},NewsList.prototype.run=function(){this.listenSubmitEvent()},$(function(){(new NewsList).run()});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5ld3NfZGV0YWlsLmpzIl0sIm5hbWVzIjpbIk5ld3NMaXN0IiwicHJvdG90eXBlIiwibGlzdGVuU3VibWl0RXZlbnQiLCJzdWJtaXRCdG4iLCIkIiwidGV4dGFyZWEiLCJjbGljayIsImNvbnRlbnQiLCJ2YWwiLCJuZXdzX2lkIiwiYXR0ciIsInhmemFqYXgiLCJwb3N0IiwidXJsIiwiZGF0YSIsInN1Y2Nlc3MiLCJyZXN1bHQiLCJjb25zb2xlIiwibG9nIiwiY29tbWVudCIsInRwbCIsInRlbXBsYXRlIiwicHJlcGVuZCIsIndpbmRvdyIsIm1lc3NhZ2VCb3giLCJzaG93U3VjY2VzcyIsInNob3dFcnJvciIsInJ1biIsInRoaXMiXSwibWFwcGluZ3MiOiJBQUFBLFNBQVNBLFlBSVRBLFNBQVNDLFVBQVVDLGtCQUFvQixXQUNyQyxJQUFJQyxFQUFZQyxFQUFFLGVBQ2RDLEVBQVdELEVBQUUsNEJBQ2pCRCxFQUFVRyxNQUFNLFdBQ1osSUFBSUMsRUFBVUYsRUFBU0csTUFDbkJDLEVBQVVOLEVBQVVPLEtBQUssZ0JBQzdCQyxRQUFRQyxLQUFLLENBQ1RDLElBQU0saUJBQ05DLEtBQU8sQ0FDSFAsUUFBVUEsRUFDVkUsUUFBVUEsR0FFZE0sUUFBVSxTQUFVQyxHQUVoQixHQURBQyxRQUFRQyxJQUFJRixHQUNVLE1BQW5CQSxFQUFhLEtBQVUsQ0FDdEIsSUFBSUcsRUFBVUgsRUFBYSxLQUN2QkksRUFBTUMsU0FBUyxlQUFlLENBQUNGLFFBQVVBLElBQ3RCZixFQUFFLGlCQUNSa0IsUUFBUUYsR0FDekJHLE9BQU9DLFdBQVdDLFlBQVksVUFDOUJwQixFQUFTRyxJQUFJLFNBRWJlLE9BQU9DLFdBQVdFLFVBQVVWLEVBQWdCLGVBTzlEaEIsU0FBU0MsVUFBVTBCLElBQU0sV0FDVkMsS0FDTjFCLHFCQUdURSxFQUFFLFlBQ21CLElBQUlKLFVBQ1YyQiIsImZpbGUiOiJuZXdzX2RldGFpbC5taW4uanMiLCJzb3VyY2VzQ29udGVudCI6WyJmdW5jdGlvbiBOZXdzTGlzdCgpIHtcblxufVxuXG5OZXdzTGlzdC5wcm90b3R5cGUubGlzdGVuU3VibWl0RXZlbnQgPSBmdW5jdGlvbigpe1xuICB2YXIgc3VibWl0QnRuID0gJCgnLnN1Ym1pdC1idG4nKTtcbiAgdmFyIHRleHRhcmVhID0gJChcInRleHRhcmVhW25hbWU9J2NvbW1lbnQnXVwiKTtcbiAgc3VibWl0QnRuLmNsaWNrKGZ1bmN0aW9uICgpIHtcbiAgICAgIHZhciBjb250ZW50ID0gdGV4dGFyZWEudmFsKCk7XG4gICAgICB2YXIgbmV3c19pZCA9IHN1Ym1pdEJ0bi5hdHRyKCdkYXRhLW5ld3MtaWQnKTtcbiAgICAgIHhmemFqYXgucG9zdCh7XG4gICAgICAgICAgJ3VybCc6Jy9uZXdzL2NvbW1lbnQvJyxcbiAgICAgICAgICAnZGF0YSc6e1xuICAgICAgICAgICAgICAnY29udGVudCc6Y29udGVudCxcbiAgICAgICAgICAgICAgJ25ld3NfaWQnOm5ld3NfaWQsXG4gICAgICAgICAgfSxcbiAgICAgICAgICAnc3VjY2Vzcyc6ZnVuY3Rpb24gKHJlc3VsdCkge1xuICAgICAgICAgICAgICBjb25zb2xlLmxvZyhyZXN1bHQpO1xuICAgICAgICAgICAgICBpZihyZXN1bHRbJ2NvZGUnXSA9PT0gMjAwKXtcbiAgICAgICAgICAgICAgICAgIHZhciBjb21tZW50ID0gcmVzdWx0WydkYXRhJ107XG4gICAgICAgICAgICAgICAgICB2YXIgdHBsID0gdGVtcGxhdGUoJ2NvbW1lbnQtaXRlbScseydjb21tZW50Jzpjb21tZW50fSk7XG4gICAgICAgICAgICAgICAgICB2YXIgY29tbWVudExpc3RHcm91cCA9ICQoJy5jb21tZW50LWxpc3QnKTtcbiAgICAgICAgICAgICAgICAgIGNvbW1lbnRMaXN0R3JvdXAucHJlcGVuZCh0cGwpO1xuICAgICAgICAgICAgICAgICAgd2luZG93Lm1lc3NhZ2VCb3guc2hvd1N1Y2Nlc3MoJ+ivhOiuuuWPkeihqOaIkOWKnycpO1xuICAgICAgICAgICAgICAgICAgdGV4dGFyZWEudmFsKCcnKTtcbiAgICAgICAgICAgICAgfWVsc2V7XG4gICAgICAgICAgICAgICAgICB3aW5kb3cubWVzc2FnZUJveC5zaG93RXJyb3IocmVzdWx0WydtZXNzYWdlJ10pO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgfSlcbiAgfSk7XG59O1xuXG5OZXdzTGlzdC5wcm90b3R5cGUucnVuID0gZnVuY3Rpb24gKCkge1xuICAgIHZhciBzZWxmID0gdGhpcztcbiAgICBzZWxmLmxpc3RlblN1Ym1pdEV2ZW50KCk7XG59O1xuXG4kKGZ1bmN0aW9uICgpIHtcbiAgIHZhciBuZXdzX2RldGFpbCA9IG5ldyBOZXdzTGlzdCgpO1xuICAgbmV3c19kZXRhaWwucnVuKCk7XG59KTsiXX0=
